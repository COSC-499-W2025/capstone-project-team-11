services:
  app:
    build:
      context: .
      dockerfile: Dockerfile
    image: capstone-app:dev
    container_name: capstone-team11
    working_dir: /app
    stdin_open: true
    tty: true

    # Mount project code and automatically mount each teammateâ€™s home directory
    volumes:
      - ./:/app
      - ./data:/app/data
      - ${MDA_SCAN_ROOT:-$HOME}:/host 

    command: python -m src.main_menu

  tests:
    build:
      context: .
      dockerfile: Dockerfile
    image: capstone-app:test
    container_name: capstone-tests
    working_dir: /app

    volumes:
      - ./:/app

    command: python -m unittest discover -s test -p "*test*.py"